<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Avyav Chess</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body { font-family: 'Courier New', monospace; background:black; color: cyan; overflow:hidden; display:flex; flex-direction:column; height:100vh; }

  #intro-container,#home-container,.content-page,#bot-play-page { display:none; flex-direction:column; justify-content:center; align-items:center; text-align:center; height:100vh; }

  #animation { font-size:3rem; font-weight:bold; animation:fadeIn 2s ease forwards; }
  @keyframes fadeIn { from {opacity:0; transform:scale(0.8);} to{opacity:1; transform:scale(1);} }

  #intro-text { font-size:1.2rem; margin-top:2rem; width:80%; max-width:700px; white-space: pre-wrap; text-align:center; }
  #get-started { margin-top:2rem; padding:12px 30px; font-size:1rem; border:2px solid cyan; color:cyan; background:transparent; border-radius:10px; cursor:pointer; transition:0.3s; display:none;}
  #get-started:hover { background-color: cyan; color: black;}

  footer { position:fixed; bottom:10px; left:0; right:0; text-align:center; color:cyan; font-size:1rem; display:none; }
  .youtube-container { display:inline-flex; align-items:center; gap:10px; }
  .youtube-logo { width:40px; height:30px; background:red; border-radius:8px; display:flex; justify-content:center; align-items:center; box-shadow:0 0 20px red; cursor:pointer; transition: transform 0.2s ease; }
  .youtube-logo:hover { transform:scale(1.1); }
  .youtube-logo::before { content:''; border-style:solid; border-width:8px 0 8px 14px; border-color:transparent transparent transparent white; }

  #home-buttons { display:flex; flex-direction:column; align-items:center; gap:1.2rem; }
  .home-btn { padding:15px 35px; border:2px solid cyan; color:cyan; background:transparent; font-size:1.1rem; border-radius:10px; cursor:pointer; transition:0.3s; }
  .home-btn:hover { background-color: cyan; color:black;}

  .home-icon { position:absolute; top:20px; right:25px; width:40px; height:40px; background: cyan; mask: url('https://cdn-icons-png.flaticon.com/512/25/25694.png') no-repeat center; mask-size: contain; -webkit-mask: url('https://cdn-icons-png.flaticon.com/512/25/25694.png') no-repeat center; -webkit-mask-size: contain; cursor:pointer;}

  #bot-label,#player-label { margin:5px 0; font-size:1.2rem; }
  #chessboard { width:320px; max-width:90vw; margin:0 auto; }
  #bot-label { font-size:1.3rem; margin-bottom:10px; }

  @media(max-width:600px) { #animation{font-size:2.3rem;} #intro-text{font-size:1rem;} .home-btn{font-size:1rem; padding:12px 28px;} }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/css/chessboard.min.css">
</head>
<body>

<div id="animation">Avyav Chess</div>

<div id="intro-container">
  <div id="intro-text"></div>
  <button id="get-started">Get Started</button>
</div>

<div id="home-container">
  <div class="home-icon" id="home-icon"></div>
  <div id="home-buttons">
    <button class="home-btn" onclick="openPage('bot-play')">Play Chess with Bot</button>
    <button class="home-btn" onclick="openPage('learn')">Learn Chess</button>
    <button class="home-btn" onclick="openPage('videos')">Videos</button>
    <button class="home-btn" onclick="openPage('contact')">Contact Us for Feedback</button>
  </div>
</div>

<div id="bot-play-page" class="content-page">
  <div class="home-icon" onclick="goHome()"></div>
  <div id="bot-label">Avyav NamDev Enlightened Bot</div>
  <div id="chessboard"></div>
  <div id="player-label">You</div>
</div>

<div id="learn-page" class="content-page"><div class="home-icon" onclick="goHome()"></div><h2>Contents Coming Soon...</h2></div>
<div id="videos-page" class="content-page"><div class="home-icon" onclick="goHome()"></div><h2>Contents Coming Soon...</h2></div>
<div id="contact-page" class="content-page"><div class="home-icon" onclick="goHome()"></div><h2>Contents Coming Soon...</h2></div>

<footer id="footer">
  <div class="youtube-container">
    <span>Subscribe to my YouTube Channel</span>
    <div class="youtube-logo" onclick="window.open('https://www.youtube.com/@AvyavChessYT','_blank')"></div>
  </div>
</footer>

<audio id="typingSound" src="typingsound.mp3"></audio>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chessboard-js/1.0.0/js/chessboard.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stockfish@15.1.0/bin/stockfish.js"></script>

<script>
const animation = document.getElementById('animation');
const introContainer = document.getElementById('intro-container');
const introText = document.getElementById('intro-text');
const getStarted = document.getElementById('get-started');
const footer = document.getElementById('footer');
const typingSound = document.getElementById('typingSound');
const homeContainer = document.getElementById('home-container');
const homeIcon = document.getElementById('home-icon');
const fullText = "Hi, I am Avyav Namdev, welcome to my chess website. I am an advanced player with rating higher than 2100 in chess.com, I created this website for the love of chess.";

let i = 0;
setTimeout(()=>{ animation.style.display='none'; introContainer.style.display='flex'; typeText(); },2500);

function typeText(){
  if(i<fullText.length){
    introText.textContent += fullText.charAt(i);
    if(typingSound.paused) typingSound.play();
    i++;
    setTimeout(typeText,50);
  }else{
    typingSound.pause();
    typingSound.currentTime=0;
    getStarted.style.display='inline-block';
    setTimeout(()=>footer.style.display='block',800);
  }
}

getStarted.addEventListener('click', ()=>{
  introContainer.style.display='none';
  footer.style.display='block';
  homeContainer.style.display='flex';
});

function openPage(page){
  homeContainer.style.display='none';
  document.querySelectorAll('.content-page').forEach(p=>p.style.display='none');
  document.getElementById(`${page}-page`).style.display='flex';
  if(page==='bot-play') initChessBot();
}

function goHome(){ document.querySelectorAll('.content-page').forEach(p=>p.style.display='none'); homeContainer.style.display='flex'; }
homeIcon.addEventListener('click',goHome);

// Chessboard with Stockfish
let board = null, game = new Chess(), stockfish = null;

function initChessBot(){
  game.reset();
  if(board) board.destroy();
  const boardEl = document.getElementById('chessboard');
  board = Chessboard(boardEl, {
    position: 'start',
    draggable:true,
    onDrop:(source,target)=>{
      let move = game.move({from:source,to:target,promotion:'q'});
      if(!move) return 'snapback';
      setTimeout(botMove,300);
    }
  });

  stockfish = new Worker('https://cdn.jsdelivr.net/npm/stockfish@15.1.0/bin/stockfish.js');
  stockfish.onmessage = function(event){
    const line = event.data;
    if(line.startsWith('bestmove')){
      const best = line.split(' ')[1];
      if(best!=='(none)'){
        game.move({from:best.substr(0,2),to:best.substr(2,2),promotion:'q'});
        board.position(game.fen());
      }
    }
  };
}

function botMove(){
  const moves = game.moves();
  if(moves.length===0) return;
  stockfish.postMessage('position fen '+game.fen());
  stockfish.postMessage('go depth 15');
}
</script>
</body>
</html>
